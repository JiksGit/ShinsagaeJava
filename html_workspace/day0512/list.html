<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      //   alert("나를 생성시킨 오프너의 변수값은 " + window.opener.storeList);

      // 등록 시 누적된 맛집들의 리스트를 테이블로 동적 출력
      function printTable() {
        let tag = "<table width='100%' border = '1px'>";
        tag += "<tr>";
        tag += "<td>No</td>";
        tag += "<td>상호명</td>";
        tag += "<td>연락처</td>";
        tag += "<td>위도경도</td>";
        tag += "<td>대표사진</td>";
        tag += "</tr>";

        for (let i = window.opener.storeList.length - 1; i >= 0; i--) {
          let store = window.opener.storeList[i];
          tag += "<tr>";
          tag += `<td>${i + 1}</td>`;
          tag += `<td>${store.store_name}</td>`;
          tag += `<td>${store.tel}</td>`;
          tag += `<td>${store.pos}</td>`;
          tag += `<td>대표사진</td>`;
          tag += "</tr>";
        }

        tag += "</table>";
        document.body.innerHTML = tag;
      }
      addEventListener("load", function () {
        printTable();
      });
    </script>
  </head>
  <body></body>
</html>
